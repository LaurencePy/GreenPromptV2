document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("api-key"),t=document.getElementById("save-btn"),n=document.getElementById("status"),s=document.getElementById("toggle-container"),o=document.getElementById("show-key-toggle");function r(e,t=!1){n.textContent=e,n.style.color=t?"red":"green"}chrome.storage.sync.get("hfApiKey",(t=>{t.hfApiKey&&(e.value=t.hfApiKey,s.style.display="flex")})),t.addEventListener("click",(()=>{const t=e.value.trim();t?chrome.storage.sync.set({hfApiKey:t},(()=>{chrome.runtime.lastError?r(`Error saving key: ${chrome.runtime.lastError.message}`,!0):(r("API Key saved successfully!",!1),s.style.display="flex",setTimeout((()=>{r("")}),3e3))})):r("Please enter an API key.",!0)})),o.addEventListener("change",(()=>{o.checked?e.type="text":e.type="password"}))}));